(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(17));t.useLink=l.default;var a=r(n(23));t.peekValue=a.default;var u=r(n(24));t.arrayUtils=u.default;var i=r(n(25));t.useF8=i.default},function(e,t,n){"use strict";var r=n(3),l=n(4),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(18));t.linkSymbol=Symbol("link");var i=0,o=function(){var e=i;return i+=1,e},c=function(){function e(t,n){r(this,e),this.head=t,this.id=o(),this.valueRef=new u.default(n),this.errors=[],this.updateCallback=null,this.validator=null}return l(e,[{key:"subscribeUpdateCallback",value:function(e){this.updateCallback=e}},{key:"updateValidator",value:function(e){this.validator=e||null}},{key:"onChange",value:function(e){this.updateCallback&&e!==this.valueRef.value&&(this.validator&&(this.errors=this.validator(e)||[]),this.valueRef.updateValue(e),this.updateCallback())}},{key:"onBlur",value:function(e){}}]),e}();t.default=c},,,function(e,t,n){"use strict";var r=n(6),l=n(22),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(2));t.createLink=function(e,n){var r=l({},u.linkSymbol,new u.default(e,n));if(Array.isArray(n)){var a=[];return a[u.linkSymbol]=new u.default(e,n),a[u.linkSymbol].valueRef.value=[],n.forEach(function(n,r){var l=t.createLink(e,n);a[u.linkSymbol].valueRef.value[r]=l[u.linkSymbol].valueRef,a[r]=l}),a}return"object"===typeof n&&null!==n&&(r[u.linkSymbol].valueRef.value={},Object.keys(n).forEach(function(l){var a=t.createLink(e,n[l]);r[u.linkSymbol].valueRef.value[l]=a[u.linkSymbol].valueRef,r[l]=a})),r},t.subscribeUpdateCallback=function(e,n){e[u.linkSymbol].subscribeUpdateCallback(n),"object"===typeof e&&Object.keys(e).forEach(function(r){t.subscribeUpdateCallback(e[r],n)})},t.recurisvelyGetErrors=function(e){var n=r(e[u.linkSymbol].errors);return Array.isArray(e)?e.forEach(function(e){n.push.apply(n,r(t.recurisvelyGetErrors(e)))}):"object"===typeof e&&null!==e&&Object.keys(e).forEach(function(l){var a=e[l];n.push.apply(n,r(t.recurisvelyGetErrors(a)))}),n}},,,,function(e,t,n){e.exports=n(33)},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),l=n(5);t.default=function(e,t){var n=e[r.linkSymbol];return n.updateValidator(t),{id:n.id,value:n.valueRef.getValue(),errors:n.errors,onChange:function(e){n.onChange(e)},onBlur:n.onBlur,childErrors:function(){return l.recurisvelyGetErrors(e)}}}},function(e,t,n){"use strict";var r=n(3),l=n(4);Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t){r(this,e),this.value=t}return l(e,[{key:"updateValue",value:function(e){this.value=e}},{key:"getValue",value:function(){var t=this.value;if(Array.isArray(t))return t.map(function(t){return t instanceof e?t.getValue():t});if("object"===typeof t&&null!==t){var n={};return Object.keys(t).forEach(function(r){n[r]=t[r]instanceof e?t[r].getValue():t[r]}),n}return t}}]),e}();t.default=a},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(e){return e[r.linkSymbol].valueRef.getValue()}},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0});var l=n(5),a=n(2);t.default=function(e,t){if(!Array.isArray(e))throw new TypeError("ArrayUtil must only be used on Array Links");return[function(){var n=l.createLink(e[a.linkSymbol].head,t);e[a.linkSymbol].valueRef.value[e.length]=n[a.linkSymbol].valueRef,e.push(n),e[a.linkSymbol].updateCallback()},function(t){var n=e[a.linkSymbol];e.splice(t,1),e[a.linkSymbol].valueRef.value=[].concat(r(n.valueRef.value.slice(0,t)),r(n.valueRef.value.slice(t+1))),e[a.linkSymbol].updateCallback()}]}},function(e,t,n){"use strict";var r=n(26),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),u=l(n(30));t.default=function(e){var t=new u.default(e),n=a.useState(t),l=r(n,2),i=l[0],o=l[1];return i.subscribeUpdateCallback(function(){o(i)}),i.formNode}},,,,,function(e,t,n){"use strict";var r=n(3),l=n(4);Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=function(){function e(t){r(this,e),this.formNode=a.createLink(this,t)}return l(e,[{key:"subscribeUpdateCallback",value:function(e){a.subscribeUpdateCallback(this.formNode,e)}}]),e}();t.default=u},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(0),l=n.n(r),a=n(7),u=n.n(a),i=n(8),o=n(1),c=function(e){var t=e.onClick,n=e.type,l=e.children;return r.createElement("button",{type:n,onClick:function(e){e.preventDefault(),t&&t()}},l)},s=function(e){var t=e.value,n=e.onChange;return r.createElement("input",{type:"text",value:t,onChange:function(e){n(e.target.value)}})},f=function(e){var t=e.link,n=e.validator,l=e.label,a=Object(o.useLink)(t,n),u=a.value,i=a.onChange,c=a.errors;return r.createElement("div",{className:"text-input"},r.createElement("h3",null,l),r.createElement(s,{value:u,onChange:i}),r.createElement("p",{style:{color:"red"}},c.join(" ")))},v=function(e){var t=e.link,n=(0,Object(o.useLink)(t).childErrors)();return r.createElement("div",{className:"error-box"},"Form Errors:",r.createElement("ul",null,n.length?n.map(function(e){return r.createElement("li",{key:e,style:{color:"red"}},e)}):r.createElement("li",null,"no errors!")))},d=function(e){var t=e.link,n=e.onClick,l=e.children,a=Object(o.useLink)(t).value;return r.createElement(c,{type:"submit",onClick:function(){n&&n(a)}},l)},b={name:"dr hammer fish",age:"1337",profile:{nick:"dirak"},friends:["jack","jill"]},k=function(e){return"bob"===e.trim().toLowerCase()?["Bob is not allowed to submit this form"]:null},y=function(e){console.log(JSON.stringify(e))},m=function(){var e=Object(o.useF8)(b),t=Object(o.arrayUtils)(e.friends,""),n=Object(i.a)(t,2),l=n[0],a=n[1];return console.log(e),r.createElement("form",{className:"App"},r.createElement(v,{link:e}),r.createElement(f,{link:e.name,label:"name",validator:k}),r.createElement(f,{link:e.age,label:"age"}),r.createElement(f,{link:e.profile.nick,label:"nick"}),r.createElement("section",{className:"row"},e.friends.map(function(e,t){return r.createElement("div",{key:t},r.createElement(f,{link:e,label:"friend ".concat(t+1)}),r.createElement(c,{onClick:function(){a(t)}},"Remove Friend"))})),r.createElement(c,{onClick:l},"Add Friend"),r.createElement(d,{link:e,onClick:y},"Submit"),JSON.stringify(Object(o.peekValue)(e)))};n(31);u.a.render(l.a.createElement(m,null),document.getElementById("root"))}],[[9,2,1]]]);
//# sourceMappingURL=main.ee19025a.chunk.js.map