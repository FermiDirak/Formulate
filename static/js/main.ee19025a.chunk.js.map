{"version":3,"sources":["../../formulate/build/index.js","../../formulate/build/datastructures/MetaLink.js","../../formulate/build/datastructures/Link.js","../../formulate/build/api/useLink.js","../../formulate/build/datastructures/Reference.js","../../formulate/build/api/peekValue.js","../../formulate/build/api/arrayUtils.js","../../formulate/build/api/useF8.js","../../formulate/build/datastructures/Form.js","Button.tsx","TextInput.tsx","F8TextInput.tsx","F8ErrorBox.tsx","F8SubmitButton.tsx","App.tsx","index.tsx"],"names":["__importDefault","this","mod","__esModule","default","Object","defineProperty","exports","value","useLink_1","__webpack_require__","useLink","peekValue_1","peekValue","arrayUtils_1","arrayUtils","useF8_1","useF8","_classCallCheck","_createClass","Reference_1","linkSymbol","Symbol","nextId","getNextId","currentId","MetaLink","head","data","id","valueRef","errors","updateCallback","validator","key","newValue","updateValue","_toConsumableArray","_defineProperty","__importStar","result","k","hasOwnProperty","call","MetaLink_1","createLink","formData","link","Array","isArray","arrayLink","forEach","datum","i","childNode","keys","subscribeUpdateCallback","recurisvelyGetErrors","child","push","apply","Link_1","formNode","linkContent","updateValidator","getValue","onChange","onBlur","childErrors","Reference","map","val","clone","defaultVal","TypeError","newLink","length","index","metaLink","splice","concat","slice","_slicedToArray","react_1","Form_1","initialForm","formTree","_react_1$useState","useState","_react_1$useState2","form","updateForm","Form","formValue","Button","_ref","onClick","type","children","react","e","preventDefault","TextInput","target","F8TextInput","label","_useLink","className","src_TextInput","style","color","join","F8ErrorBox","error","F8SubmitButton","src_Button","name","age","profile","nick","friends","notBob","trim","toLowerCase","onSubmit","console","log","JSON","stringify","App","_arrayUtils","_arrayUtils2","slicedToArray","addFriend","removeFriend","src_F8ErrorBox","src_F8TextInput","friend","src_F8SubmitButton","ReactDOM","render","react_default","a","createElement","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ee19025a.chunk.js","sourcesContent":["\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar useLink_1 = __importDefault(require(\"./api/useLink\"));\n\nexports.useLink = useLink_1.default;\n\nvar peekValue_1 = __importDefault(require(\"./api/peekValue\"));\n\nexports.peekValue = peekValue_1.default;\n\nvar arrayUtils_1 = __importDefault(require(\"./api/arrayUtils\"));\n\nexports.arrayUtils = arrayUtils_1.default;\n\nvar useF8_1 = __importDefault(require(\"./api/useF8\"));\n\nexports.useF8 = useF8_1.default;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/bryanmanuele/Projects/Formulate/example/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/bryanmanuele/Projects/Formulate/example/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Reference_1 = __importDefault(require(\"./Reference\"));\n/** Used to access MetaLink from a form Link */\n\n\nexports.linkSymbol = Symbol('link');\nvar nextId = 0;\n\nvar getNextId = function getNextId() {\n  var currentId = nextId;\n  nextId += 1;\n  return currentId;\n};\n/** MetaLink is the container for the metadata of a Form's Link\n * It's stored on a Link's LinkSymbol */\n\n\nvar MetaLink =\n/*#__PURE__*/\nfunction () {\n  function MetaLink(head, data) {\n    _classCallCheck(this, MetaLink);\n\n    this.head = head;\n    this.id = getNextId();\n    this.valueRef = new Reference_1.default(data);\n    this.errors = [];\n    this.updateCallback = null;\n    this.validator = null;\n  }\n\n  _createClass(MetaLink, [{\n    key: \"subscribeUpdateCallback\",\n    value: function subscribeUpdateCallback(updateCallback) {\n      this.updateCallback = updateCallback;\n    }\n  }, {\n    key: \"updateValidator\",\n    value: function updateValidator(validator) {\n      this.validator = validator || null;\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(newValue) {\n      if (!this.updateCallback || newValue === this.valueRef.value) {\n        return;\n      }\n\n      if (this.validator) {\n        this.errors = this.validator(newValue) || [];\n      }\n\n      this.valueRef.updateValue(newValue);\n      this.updateCallback();\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur(newValue) {//@TODO: I don't know what to do with this\n    }\n  }]);\n\n  return MetaLink;\n}();\n\nexports.default = MetaLink;","\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/bryanmanuele/Projects/Formulate/example/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _defineProperty = require(\"/Users/bryanmanuele/Projects/Formulate/example/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar MetaLink_1 = __importStar(require(\"./MetaLink\"));\n/** creates a link from a given datum\n * @param head The parent Form\n * @param formData The form data to create a Link from\n * @return The created recursive link */\n\n\nexports.createLink = function (head, formData) {\n  /* ValueRef is a reference tree. The below procedure hooks up\n   * the valueRef upwards */\n  var link = _defineProperty({}, MetaLink_1.linkSymbol, new MetaLink_1.default(head, formData));\n\n  if (Array.isArray(formData)) {\n    var arrayLink = [];\n    arrayLink[MetaLink_1.linkSymbol] = new MetaLink_1.default(head, formData);\n    arrayLink[MetaLink_1.linkSymbol].valueRef.value = [];\n    formData.forEach(function (datum, i) {\n      var childNode = exports.createLink(head, datum);\n      arrayLink[MetaLink_1.linkSymbol].valueRef.value[i] = childNode[MetaLink_1.linkSymbol].valueRef;\n      arrayLink[i] = childNode;\n    });\n    return arrayLink;\n  } else if (typeof formData === 'object' && formData !== null) {\n    link[MetaLink_1.linkSymbol].valueRef.value = {};\n    Object.keys(formData).forEach(function (key) {\n      var childNode = exports.createLink(head, formData[key]);\n      link[MetaLink_1.linkSymbol].valueRef.value[key] = childNode[MetaLink_1.linkSymbol].valueRef;\n      link[key] = childNode;\n    });\n  }\n\n  return link;\n};\n/** resursively subscribes a Link with the update callback\n * @param link The link to recursively subscribe\n * @param updateCallback The callback to subscribe recursively */\n\n\nexports.subscribeUpdateCallback = function (link, updateCallback) {\n  link[MetaLink_1.linkSymbol].subscribeUpdateCallback(updateCallback);\n\n  if (typeof link === 'object') {\n    Object.keys(link).forEach(function (key) {\n      exports.subscribeUpdateCallback(link[key], updateCallback);\n    });\n  }\n};\n/** Recursively traverses a link for errors\n * @param link The link to recursively traverse for errors\n * @return The retrieved errors */\n\n\nexports.recurisvelyGetErrors = function (link) {\n  var errors = _toConsumableArray(link[MetaLink_1.linkSymbol].errors);\n\n  if (Array.isArray(link)) {\n    link.forEach(function (child) {\n      errors.push.apply(errors, _toConsumableArray(exports.recurisvelyGetErrors(child)));\n    });\n  } else if (typeof link === 'object' && link !== null) {\n    Object.keys(link).forEach(function (key) {\n      var child = link[key];\n      errors.push.apply(errors, _toConsumableArray(exports.recurisvelyGetErrors(child)));\n    });\n  }\n\n  return errors;\n};","\"use strict\";\n/**\n * @description\n * useLink is used by data entry components to explode a link\n * down to its respective components\n *\n * @example\n * const TextInput = (link) => {\n *   {value, onChange, onBlur, errors} = useLink(link);\n *\n *   return (\n *     <Container>\n *       <input type=\"text\" value={value} onChange={onChange} onBlur={onBlur} />\n *       <p> {errors.join('')} </p>\n *     </Container>\n *   );\n * }\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar MetaLink_1 = require(\"../datastructures/MetaLink\");\n\nvar Link_1 = require(\"../datastructures/Link\");\n/** retrieves the link content associated with a given formNode\n * @param formNode The FormNode to retrieve the link from\n * @param validator The validator function to be used on the value\n * @return The content of the link */\n\n\nvar useLink = function useLink(formNode, validator) {\n  var linkContent = formNode[MetaLink_1.linkSymbol];\n  linkContent.updateValidator(validator);\n  return {\n    id: linkContent.id,\n    value: linkContent.valueRef.getValue(),\n    errors: linkContent.errors,\n    onChange: function onChange(newValue) {\n      linkContent.onChange(newValue);\n    },\n    onBlur: linkContent.onBlur,\n    childErrors: function childErrors() {\n      return Link_1.recurisvelyGetErrors(formNode);\n    }\n  };\n};\n\nexports.default = useLink;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/bryanmanuele/Projects/Formulate/example/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/bryanmanuele/Projects/Formulate/example/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * A reference turns a value into a reference to a value and\n * exposes methods to update and retrieve the value\n */\n\nvar Reference =\n/*#__PURE__*/\nfunction () {\n  function Reference(value) {\n    _classCallCheck(this, Reference);\n\n    this.value = value;\n  }\n\n  _createClass(Reference, [{\n    key: \"updateValue\",\n    value: function updateValue(newValue) {\n      this.value = newValue;\n    }\n    /** Converts a nested reference into an object\n     * @param reference The reference to deconstruct\n     * @return The data the nested reference conists of */\n\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var value = this.value;\n\n      if (Array.isArray(value)) {\n        return value.map(function (val) {\n          return val instanceof Reference ? val.getValue() : val;\n        });\n      } else if (typeof value === 'object' && value !== null) {\n        var clone = {};\n        Object.keys(value).forEach(function (key) {\n          clone[key] = value[key] instanceof Reference ? value[key].getValue() : value[key];\n        });\n        return clone;\n      }\n\n      return value;\n    }\n  }]);\n\n  return Reference;\n}();\n\nexports.default = Reference;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar MetaLink_1 = require(\"../datastructures/MetaLink\");\n/** Peek a form node's current value\n * @param formNode The node value to peek */\n\n\nvar peekValue = function peekValue(formNode) {\n  var valueRef = formNode[MetaLink_1.linkSymbol].valueRef;\n  return valueRef.getValue();\n};\n\nexports.default = peekValue;","\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/bryanmanuele/Projects/Formulate/example/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Link_1 = require(\"../datastructures/Link\");\n\nvar MetaLink_1 = require(\"../datastructures/MetaLink\");\n/**\n * Provides utils for working with arrays in forms\n * @param Link The array link to provide utils for\n * @param defaultVal The default value that will be used when adding\n * a field to the Link */\n\n\nvar arrayUtils = function arrayUtils(link, defaultVal) {\n  if (!Array.isArray(link)) {\n    throw new TypeError('ArrayUtil must only be used on Array Links');\n  }\n\n  var addField = function addField() {\n    var newLink = Link_1.createLink(link[MetaLink_1.linkSymbol].head, defaultVal);\n    link[MetaLink_1.linkSymbol].valueRef.value[link.length] = newLink[MetaLink_1.linkSymbol].valueRef;\n    link.push(newLink);\n    link[MetaLink_1.linkSymbol].updateCallback();\n  };\n\n  var removeField = function removeField(index) {\n    var metaLink = link[MetaLink_1.linkSymbol];\n    link.splice(index, 1);\n    link[MetaLink_1.linkSymbol].valueRef.value = [].concat(_toConsumableArray(metaLink.valueRef.value.slice(0, index)), _toConsumableArray(metaLink.valueRef.value.slice(index + 1)));\n    link[MetaLink_1.linkSymbol].updateCallback();\n  };\n\n  return [addField, removeField];\n};\n\nexports.default = arrayUtils;","\"use strict\";\n\nvar _slicedToArray = require(\"/Users/bryanmanuele/Projects/Formulate/example/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar Form_1 = __importDefault(require(\"./../datastructures/Form\"));\n/** This hook lets you turn in a form schema into a\n * Formulate form object\n * @param initialForm The inital state of your form\n * @return A Formulate form object representing your form */\n\n\nvar useF8 = function useF8(initialForm) {\n  var formTree = new Form_1.default(initialForm);\n\n  var _react_1$useState = react_1.useState(formTree),\n      _react_1$useState2 = _slicedToArray(_react_1$useState, 2),\n      form = _react_1$useState2[0],\n      updateForm = _react_1$useState2[1]; // updateCallback is called whenever any onChange is called\n\n\n  var updateCallback = function updateCallback() {\n    updateForm(form);\n  };\n\n  form.subscribeUpdateCallback(updateCallback);\n  return form.formNode;\n};\n\nexports.default = useF8;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/bryanmanuele/Projects/Formulate/example/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/bryanmanuele/Projects/Formulate/example/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Link_1 = require(\"./Link\");\n/** The main container for Formulate */\n\n\nvar Form =\n/*#__PURE__*/\nfunction () {\n  function Form(formValue) {\n    _classCallCheck(this, Form);\n\n    this.formNode = Link_1.createLink(this, formValue);\n  }\n  /** resursively subscribes a Form Tree with the update callback\n   * @param updateCallback The callback to subscribe recursively */\n\n\n  _createClass(Form, [{\n    key: \"subscribeUpdateCallback\",\n    value: function subscribeUpdateCallback(updateCallback) {\n      Link_1.subscribeUpdateCallback(this.formNode, updateCallback);\n    }\n  }]);\n\n  return Form;\n}();\n\nexports.default = Form;","import * as React from 'react';\n\ntype Props = {\n  onClick?: () => void,\n  type?: string,\n  children: string,\n}\n\nconst Button = ({onClick, type, children}: Props) => {\n  const handleClick = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    onClick && onClick();\n  }\n\n  return (\n    <button type={type} onClick={handleClick}>{children}</button>\n  );\n}\n\nexport default Button;\n","import * as React from 'react';\n\ntype Props = {\n  value?: string,\n  onChange: (newVal: string) => void,\n};\n\n/**\n * A simple Text Input component\n */\nconst TextInput = ({value, onChange}: Props) => {\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    onChange(e.target.value);\n  }\n\n  return (\n    <input type='text' value={value} onChange={handleChange} />\n  );\n};\n\nexport default TextInput;","import * as React from 'react';\nimport { useLink } from 'formulate';\nimport TextInput from './TextInput';\n\ntype Props = {\n  label: string,\n  link: any,\n  validator?: (value: string) => string[] | null,\n};\n\nconst F8TextInput = ({link, validator, label}: Props) => {\n  const {value, onChange, errors} = useLink(link, validator);\n\n  return (\n    <div className='text-input'>\n      <h3>{label}</h3>\n      <TextInput value={value} onChange={onChange} />\n      <p style={{color: 'red'}}>{errors.join(' ')}</p>\n    </div>\n  );\n};\n\nexport default F8TextInput;\n","import * as React from 'react';\nimport { useLink } from 'formulate';\n\ntype Props = {\n  link: any,\n}\n\n/** Displays form errors */\nconst F8ErrorBox = ({link}: Props) => {\n  const {childErrors} = useLink(link);\n  const errors = childErrors();\n\n  return (\n    <div className='error-box'>\n      Form Errors:\n      <ul>\n        {errors.length ?\n          errors.map(error => (\n            <li key={error} style={{color: 'red'}}>{error}</li>\n          ))\n          : <li>no errors!</li>\n        }\n      </ul>\n    </div>\n  );\n};\n\nexport default F8ErrorBox;\n","import * as React from 'react';\nimport { useLink, Link } from 'formulate';\nimport Button from './Button';\n\ntype Props = {\n  link: Link<any>,\n  onClick?: (formData: any) => void,\n  children: string,\n}\n\nconst F8SubmitButton = ({link, onClick, children}: Props) => {\n  const {value} = useLink(link);\n\n  const handleClick = () => {\n    onClick && onClick(value);\n  }\n\n  return(\n    <Button type=\"submit\" onClick={handleClick}>\n      {children}\n    </Button>\n  );\n}\n\nexport default F8SubmitButton;\n","import * as React from 'react';\nimport { useF8, arrayUtils, peekValue } from 'formulate';\nimport Button from './Button';\nimport F8TextInput from './F8TextInput';\nimport F8ErrorBox from './F8ErrorBox';\nimport F8SubmitButton from './F8SubmitButton';\n\nconst initialForm = {\n  name: 'dr hammer fish',\n  age: '1337',\n  profile: {\n    nick: 'dirak',\n  },\n  friends: ['jack', 'jill'],\n};\n\nconst notBob = (name: string): string[] | null => {\n  if (name.trim().toLowerCase() === 'bob') {\n    return ['Bob is not allowed to submit this form'];\n  }\n\n  return null;\n}\n\nconst onSubmit = (formData) => {\n  console.log(JSON.stringify(formData));\n};\n\nconst App = () => {\n  const formData = useF8(initialForm);\n  const [addFriend, removeFriend] = arrayUtils(formData.friends, '');\n\n  console.log(formData);\n\n  return (\n    <form className='App'>\n      <F8ErrorBox link={formData} />\n      <F8TextInput link={formData.name} label='name' validator={notBob} />\n      <F8TextInput link={formData.age} label='age' />\n      <F8TextInput link={formData.profile.nick} label='nick' />\n\n      <section className='row'>\n        {formData.friends.map((friend, i) => (\n          <div key={i}>\n            <F8TextInput link={friend} label={`friend ${i + 1}`}/>\n            <Button onClick={() => {removeFriend(i)}}>Remove Friend</Button>\n          </div>\n        ))}\n      </section>\n\n      <Button onClick={addFriend}>Add Friend</Button>\n\n      <F8SubmitButton link={formData} onClick={onSubmit}>Submit</F8SubmitButton>\n\n      {JSON.stringify(peekValue(formData))}\n    </form>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}